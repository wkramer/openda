<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenDA: cta_par.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cta_par.h File Reference</h1>
<p>Interface for creating parallel applications with COSTA.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="cta__system_8h_source.html">cta_system.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cta__handles_8h_source.html">cta_handles.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cta__datatypes_8h_source.html">cta_datatypes.h</a>&quot;</code><br/>

<p><a href="cta__par_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cta__par_8h.html#a483c7f58ad24cd6c3bcc05004a78a5bb">CTA_ParProcType</a> { <a class="el" href="cta__par_8h.html#a483c7f58ad24cd6c3bcc05004a78a5bba30c337a882ca3eb23cf4cd567ba9e438">CTA_ParMaster</a>, 
<a class="el" href="cta__par_8h.html#a483c7f58ad24cd6c3bcc05004a78a5bba407e71e964b8cd4457c7a7ffeae1da8a">CTA_ParWorker</a>, 
<a class="el" href="cta__par_8h.html#a483c7f58ad24cd6c3bcc05004a78a5bba597adad3b0cc58629d665e61d0fbbc9f">CTA_ParOther</a>
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CTAEXPORT int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cta__par_8h.html#aff99d69f49a2120bdfc968796cd95a02">CTA_Par_WorkerSpawn</a> (int StartPar)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialises parallel environment for a process that spawned The executable is spawned using MPI_COMM_SPAWN or MPI_COMM_SPAWN_MULTIPLE.  <a href="#aff99d69f49a2120bdfc968796cd95a02"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CTAEXPORT int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cta__par_8h.html#a093a351ff53127f672a9864ff3cc01b7">CTA_Par_CreateGroups</a> (int parConfig, int StartPar)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialises parallel environment and create process groups.  <a href="#a093a351ff53127f672a9864ff3cc01b7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CTAEXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cta__par_8h.html#a06378dde1ab92dbc0c333b46fe855cc7">CTA_Par_GetGroupInfo</a> (int *iGroup, int *itime)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the Fortran (integer handles) of the communicators.  <a href="#a06378dde1ab92dbc0c333b46fe855cc7"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CTAEXPORT int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cta__par_8h.html#ae679819011015d1d9dd5703d29f0ee35">CTA_FILTER_PROCESS</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CTAEXPORT int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cta__par_8h.html#ae218226001e4505e832029725076004e">CTA_IS_PARALLEL</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CTAEXPORT int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cta__par_8h.html#a06606f583b085cfcbb587d112c73f940">CTA_PAR_MY_RANK</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CTAEXPORT enum <a class="el" href="cta__par_8h.html#a483c7f58ad24cd6c3bcc05004a78a5bb">CTA_ParProcType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cta__par_8h.html#a736374d7d20ee2d1b4105201b89b6176">CTA_MY_PROC_TYPE</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Interface for creating parallel applications with COSTA. </p>

<p>Definition in file <a class="el" href="cta__par_8h_source.html">cta_par.h</a>.</p>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a483c7f58ad24cd6c3bcc05004a78a5bb"></a><!-- doxytag: member="cta_par.h::CTA_ParProcType" ref="a483c7f58ad24cd6c3bcc05004a78a5bb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cta__par_8h.html#a483c7f58ad24cd6c3bcc05004a78a5bb">CTA_ParProcType</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Type of processes </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a483c7f58ad24cd6c3bcc05004a78a5bba30c337a882ca3eb23cf4cd567ba9e438"></a><!-- doxytag: member="CTA_ParMaster" ref="a483c7f58ad24cd6c3bcc05004a78a5bba30c337a882ca3eb23cf4cd567ba9e438" args="" -->CTA_ParMaster</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a483c7f58ad24cd6c3bcc05004a78a5bba407e71e964b8cd4457c7a7ffeae1da8a"></a><!-- doxytag: member="CTA_ParWorker" ref="a483c7f58ad24cd6c3bcc05004a78a5bba407e71e964b8cd4457c7a7ffeae1da8a" args="" -->CTA_ParWorker</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a483c7f58ad24cd6c3bcc05004a78a5bba597adad3b0cc58629d665e61d0fbbc9f"></a><!-- doxytag: member="CTA_ParOther" ref="a483c7f58ad24cd6c3bcc05004a78a5bba597adad3b0cc58629d665e61d0fbbc9f" args="" -->CTA_ParOther</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="cta__par_8h_source.html#l00035">35</a> of file <a class="el" href="cta__par_8h_source.html">cta_par.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a093a351ff53127f672a9864ff3cc01b7"></a><!-- doxytag: member="cta_par.h::CTA_Par_CreateGroups" ref="a093a351ff53127f672a9864ff3cc01b7" args="(int parConfig, int StartPar)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CTAEXPORT int CTA_Par_CreateGroups </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>parConfig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>StartPar</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialises parallel environment and create process groups. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>parConfig</em>&nbsp;</td><td>I configuration input from XML-file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>StartPar</em>&nbsp;</td><td>I CTA_TRUE/CTA_FALSE start parallel model builder</td></tr>
  </table>
  </dd>
</dl>
<p>Note when a worker process is part of a Master-Worker model and it does not implement the COSTA model interface it should not start the parallel model builder</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>error status: CTA_OK if successful </dd></dl>

</div>
</div>
<a class="anchor" id="a06378dde1ab92dbc0c333b46fe855cc7"></a><!-- doxytag: member="cta_par.h::CTA_Par_GetGroupInfo" ref="a06378dde1ab92dbc0c333b46fe855cc7" args="(int *iGroup, int *itime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CTAEXPORT void CTA_Par_GetGroupInfo </td>
          <td>(</td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>iGroup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>itime</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the Fortran (integer handles) of the communicators. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cta_comm_world</em>&nbsp;</td><td>O Fortran communcator CTA_COMM_WORLD </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cta_comm_myworld</em>&nbsp;</td><td>O Fortran communcator CTA_COMM_MYWORLD </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cta_comm_master_worker</em>&nbsp;</td><td>O Fortran communcator CTA_COMM_MASTER_WORKER Get a communicator for a process group by index </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>indx</em>&nbsp;</td><td>I indx of communicator </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>comm</em>&nbsp;</td><td>O MPI communicator </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CTA_OK when succesfull. The value is CTA_CANNOT_FIND_PROCESS_GROUP is returned when the communicator cannot be found Get the global number of COSTA process group and index of this process </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>itime</em>&nbsp;</td><td>O The index of this process in the group </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iGroup</em>&nbsp;</td><td>O The group number of this process belongs to (1..nGroups)</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>If this function is called by the COSTA master process or in a sequential run it will return 0 for iGroup </dd></dl>

</div>
</div>
<a class="anchor" id="aff99d69f49a2120bdfc968796cd95a02"></a><!-- doxytag: member="cta_par.h::CTA_Par_WorkerSpawn" ref="aff99d69f49a2120bdfc968796cd95a02" args="(int StartPar)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CTAEXPORT int CTA_Par_WorkerSpawn </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>StartPar</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialises parallel environment for a process that spawned The executable is spawned using MPI_COMM_SPAWN or MPI_COMM_SPAWN_MULTIPLE. </p>
<p>It will set up the communication groups and optionally starts the parallel model builder</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>StartPar</em>&nbsp;</td><td>I CTA_TRUE/CTA_FALSE start parallel model builder</td></tr>
  </table>
  </dd>
</dl>
<p>Note when a worker process is part of a Master-Worker model and it does not implement the COSTA model interface it should not start the parallel model builder</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>error status: CTA_OK if successful </dd></dl>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ae679819011015d1d9dd5703d29f0ee35"></a><!-- doxytag: member="cta_par.h::CTA_FILTER_PROCESS" ref="ae679819011015d1d9dd5703d29f0ee35" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CTAEXPORT int <a class="el" href="cta__par_8h.html#ae679819011015d1d9dd5703d29f0ee35">CTA_FILTER_PROCESS</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Flag to indicate whether this is a filter process or model/worker process </p>

</div>
</div>
<a class="anchor" id="ae218226001e4505e832029725076004e"></a><!-- doxytag: member="cta_par.h::CTA_IS_PARALLEL" ref="ae218226001e4505e832029725076004e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CTAEXPORT int <a class="el" href="cta__par_8h.html#ae218226001e4505e832029725076004e">CTA_IS_PARALLEL</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Flag CTA_TRUE/CTA_FALSE to indicate whether run is in a parallel environment </p>

</div>
</div>
<a class="anchor" id="a736374d7d20ee2d1b4105201b89b6176"></a><!-- doxytag: member="cta_par.h::CTA_MY_PROC_TYPE" ref="a736374d7d20ee2d1b4105201b89b6176" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CTAEXPORT enum <a class="el" href="cta__par_8h.html#a483c7f58ad24cd6c3bcc05004a78a5bb">CTA_ParProcType</a> <a class="el" href="cta__par_8h.html#a736374d7d20ee2d1b4105201b89b6176">CTA_MY_PROC_TYPE</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Kind of this process </p>

</div>
</div>
<a class="anchor" id="a06606f583b085cfcbb587d112c73f940"></a><!-- doxytag: member="cta_par.h::CTA_PAR_MY_RANK" ref="a06606f583b085cfcbb587d112c73f940" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CTAEXPORT int <a class="el" href="cta__par_8h.html#a06606f583b085cfcbb587d112c73f940">CTA_PAR_MY_RANK</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Rank in world of all processes Note this variable is only used for debugging and output. </p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 4 Mar 2014 for OpenDA by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
